<!DOCTYPE html>

<html>

	<head>

		<%- include('../partials/head.ejs') %>

		<link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'>
		<link rel='stylesheet' href='/orbit/css/dashboard.css'>

		<script type='module' src='/orbit/js/dashboard.mjs'></script>

	</head>

	<body>

		<header>

			<%- include('../partials/header.ejs') %>

		</header>

		<main>
			<div id='dashboard'>

				<div id='featureSidebar'>

					<%- include('../components/sidebar.ejs') %>

				</div>

				<div id='featureSettings'>

					<div id='featureHeader'>
						<div>
							<p id='featureName'>REACTION ROLE</p>
							<%- include('../components/settingEnabled.ejs', { enabled: settings.enabled ? 'checked' : '' }) %>
						</div>
						<p id='featureDescription'>Let members assign themselves roles by leaving reactions on certain messages.</p>
					</div>

					<% for (const channelID in settings.channels) {

						const { channelName, ...messages } = settings.channels[channelID]

						for (const messageID in messages) {

							const { messageContent, ...reactions } = settings.channels[channelID][messageID] %>

							<%- include('../components/reactionRole.ejs', { channelName: channelName, messageContent: messageContent, reactions: reactions }) %>

						<% }

					} %>

				</div>

			</div>
		</main>

		<footer>

			<%- include('../partials/footer.ejs') %>

		</footer>

	</body>

</html>
